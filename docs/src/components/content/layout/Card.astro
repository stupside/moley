---
import type { CardBlock } from "../../../types/content.js";
import { mergeClassName } from "../../../utils/classes.js";
import { buildUrl } from "../../../utils/content.js";
import Icon from "../../ui/Icon/Icon.astro";

export interface Props {
	content: CardBlock;
}

const { content } = Astro.props;

const linkProps = content.external
	? { target: "_blank", rel: "noopener noreferrer" }
	: {};
---

<div class={mergeClassName("h-full bg-white border border-gray-200 rounded-xl p-6 group cursor-pointer hover:border-orange-300 hover:shadow-lg transition-all", content.className)} id={content.id}>
  <a href={buildUrl(content.href)} {...linkProps} class="block h-full">
    <div class="flex h-full">
      {content.icon && (
        <div class="flex-shrink-0 mr-4">
          <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-orange-50 group-hover:bg-orange-100 transition-colors">
            <Icon name={content.icon} size="md" class="text-orange-600" />
          </div>
        </div>
      )}

      <div class="flex-1 min-w-0 flex flex-col">
        <h3 class="text-lg font-semibold text-gray-900 group-hover:text-orange-900 transition-colors">
          <div class="flex items-center">
            {content.title}
            {content.external && (
              <Icon name="link" size="xs" class="ml-2 text-gray-400" />
            )}
          </div>
        </h3>

        {content.description && (
          <p class="text-gray-600 flex-1 leading-relaxed">
            {content.description}
          </p>
        )}
      </div>

      <div class="flex-shrink-0 ml-4 flex items-center">
        <Icon name="chevron-right" size="md" class="text-gray-400 group-hover:text-orange-600 transition-colors" />
      </div>
    </div>
  </a>
</div>