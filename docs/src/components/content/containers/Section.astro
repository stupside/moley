---
import type { SectionBlock } from "../../../types/content.js";
import { mergeClassName } from "../../../utils/classes.js";
import { createSlug } from "../../../utils/content.js";
import ContentRenderer from "../../ContentRenderer.astro";

export interface Props {
	content: SectionBlock;
}

const { content } = Astro.props;

const sectionClass = mergeClassName(content.border ? "border-l-4 border-orange-200 pl-6" : "", content.className);

const sectionId =
	content.id || (content.title ? createSlug(content.title) : undefined);
---

<section class={sectionClass} id={sectionId}>
  {content.title && (
    <h2 class="section-title text-2xl font-bold text-gray-900 tracking-tight" id={sectionId}>{content.title}</h2>
  )}

  <div class="flex flex-col gap-6">
    {content.children?.map(child => (
      <ContentRenderer content={child} />
    ))}
  </div>
</section>