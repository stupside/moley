---
import { mergeClassName, cn } from "../../utils/classes.js";
import { buildUrl } from "../../utils/content.js";

export interface NavItem {
	href: string;
	label: string;
	external?: boolean;
}

export interface Props {
	class?: string;
	items: readonly NavItem[];
	currentPath: string;
}

const { items, currentPath, class: className = "" } = Astro.props;

const getLinkClasses = (href: string) => {
	const baseClasses = "rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-orange-50";
	const activeClasses = currentPath === href
		? "bg-orange-100 text-orange-700 border border-orange-200"
		: "text-gray-600 hover:text-orange-700";

	return cn(baseClasses, activeClasses);
};
---

<nav class={mergeClassName("flex items-center space-x-1", className)}>
  {items.map((item) => (
    <a
      href={buildUrl(item.href)}
      class={getLinkClasses(item.href)}
      target={item.external ? '_blank' : undefined}
      rel={item.external ? 'noopener noreferrer' : undefined}
    >
      {item.label}
    </a>
  ))}
</nav>